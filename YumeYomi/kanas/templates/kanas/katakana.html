{% extends "learn/base.html" %}
{% block content %}
    <div class="xwrapper-body">
      <div class="xmain-head">
        <div class="xrow">
          <div id="col-lx">
            <div class="xhead-content">
              <h1>{{ title }}</h1>
              <button><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M5 21h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2zm2-10h4V7h2v4h4v2h-4v4h-2v-4H7v-2z"></path>
                </svg> ADD TO LIST
                <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 24 24">
                  <path d="M16.293 9.293 12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707z"></path>
                </svg>
                
              </button>
            </div>
            <div class="tag-container">
              <span class="tag bg-bright purple">popular</span>
              <span class="tag bg-gray">noun</span>
              <span class=" tag bg-light-brown">usualy writting in kana alone</span>
              <span class="tag bg-pink-purple">JPLT N2</span>
              <button>
                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-tags-fill" viewBox="0 0 16 16">
                  <path d="M2 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 2 6.586zm3.5 4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3"/>
                  <path d="M1.293 7.793A1 1 0 0 1 1 7.086V2a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l.043-.043z"/>
                </svg>Tags
              </button>
            </div>
          </div>
          <div class="base-col">
            <p>Other Forms: 
              <button class="btn-title-one" >片仮名</a></button>
              <button class="btn-title-two" >{{title}}</a></button>
            </p>
          </div>
          <div class="reading">
            <h3>Reading
              <button id="openPopup">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="20" height="20">
                  <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
                 </svg>
              </button>
            </h3>

              <div id="popup" class="popup">
                <div class="popup-content">
                    <h2>Quick Help</h2>
                    <span class="close-btn" id="closePopup">&times;</span>
                    <h3>Language Overview</h3>
                    <p>Japanese (日本語, Nihongo) is the national language of Japan, spoken by over 125 million people. It's known for its distinct writing system, which includes three scripts: Kanji, Hiragana, and Katakana.</p>
                    <h3>Writing System</h3>
                    <ul>
                        <li>Kanji (漢字): Characters borrowed from Chinese, representing ideas or things.</li>
                        <li>Hiragana (ひらがな): A syllabary used for native Japanese words and grammatical functions.</li>
                        <li>Katakana (カタカナ): A syllabary used for foreign words, names, and technical terms.</li>
                    </ul>
        
                    <h3>Pronunciation</h3>
                    <p>Japanese has a relatively simple phonetic structure with a limited set of sounds.</p>
                    <ul>
                        <li>Vowels: a, i, u, e, o</li>
                        <li>Consonants: Basic consonants like k, s, t, n, h, m, y, r, w, and g, z, d, b, p.</li>
                    </ul>
                </div>
              </div>
          </div>
          
          <div class="card-display say-text">
            <h3><span>{{title}}</span></h3>
            <div class="play-text">
              <button>
                <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" stroke-width="1.5"  width="20" height="20" style="fill: var(--volume-color); stroke:var(--volume-color)">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z" />
                </svg>                
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="card-draw">
        <div class="draw-container">
          <div id="kanji-container"></div>
          <!-- Hidden element with the Kanji text -->
          <span id="kanji-text" style="display: none;">{{ title }}</span>
        </div>
    
        <div class="container-controls" id="controls">
          <button id="clear-btn">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#E72020" width="20px" height="20px">
              <path fill-rule="evenodd" d="M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z" clip-rule="evenodd" />
            </svg> 
          </button>
          
          <button id="play-btn">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#6923D0" width="20px" height="20px">
              <path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z" />
            </svg>
          </button>
          <input type="checkbox" id="show-strokes" checked>
          <label for="show-strokes">Show Strokes</label>
        </div>
        
      </div>

      <div class="card-wrapper">
        <div class="text-description">
          <p>
            Katakana is another syllabary used in the Japanese writing system. Like hiragana, it consists of 46 characters, each representing a syllable or a combination of consonant and vowel sounds. Katakana is primarily used for foreign words, loanwords, technical and scientific terms, and onomatopoeia. It's also used for emphasis, similar to the use of italics in English. While hiragana has a more rounded and flowing appearance, katakana characters are more angular and straight-lined. Katakana is often used alongside hiragana and kanji in Japanese writing. 
            <a href="https://chat.openai.com/" target="_blank" rel="noopener noreferrer">(ChatGPT)</a>
          </p>
        </div>
        {% block monographs %}
          <table>
            <h2>Monographs (basic katakana)</h2>
            <tbody>
              {% for key, val in katakana_table.items %}
                {% if forloop.counter0|divisibleby:"5" %}
                  <tr>
                {% endif %}
                <td>
                  {% if val %}
                    <div class="display-kana say-text">
                      <button class="play-text">
                        <span lang="jp">{{ key }}</span>
                      </button>
                    </div>
                    <div class="display-romanji">
                      <p>{{ val }}</p>
                    </div>
                  {% else %}
                    <div class="space"></div> <!-- Spacer -->
                  {% endif %}
                </td>
                {% if forloop.counter|divisibleby:"5" or forloop.last %}
                  </tr>
                {% endif %}
              {% endfor %}
            </tbody>
          </table>
        {% endblock monographs %}

        {% block dicrits %}
          <table>
            <h2>Diacritics (tenten and maru)</h2>
            <tbody>
              {% for key, val in dicrits_table.items %}
                {% if forloop.counter0|divisibleby:"5" %}
                  <tr>
                {% endif %}
                <td>
                  {% if val %}
                    <div class="display-kana say-text">
                      <button class="play-text">
                        <span lang="jp">{{ key }}</span>
                      </button>
                    </div>
                    <div class="display-romanji">
                      <p>{{ val }}</p>
                    </div>
                  {% else %}
                    <div class="space"></div> <!-- Spacer -->
                  {% endif %}
                </td>
                {% if forloop.counter|divisibleby:"5" or forloop.last %}
                  </tr>
                {% endif %}
              {% endfor %}
            </tbody>
          </table>
      {% endblock dicrits %}

      {% block digraphs %}
      <table>
        <h2>Digraphs (yōon)</h2>
        <tbody>
          {% for key, val in digraphs_table.items %}
            {% if forloop.counter0|divisibleby:"5" %}
              <tr>
            {% endif %}
            <td>
              {% if val %}
                <div class="display-kana say-text">
                  <button class="play-text">
                    <span lang="jp">{{ key }}</span>
                  </button>
                </div>
                <div class="display-romanji">
                  <p>{{ val }}</p>
                </div>
              {% else %}
                <div class="space"></div> <!-- Spacer -->
              {% endif %}
            </td>
            {% if forloop.counter|divisibleby:"5" or forloop.last %}
              </tr>
            {% endif %}
          {% endfor %}
        </tbody>
      </table>
    {% endblock digraphs %}

    {% block handukten %}
    <table>
      <h2>Diacritics (tenten and maru)</h2>
      <tbody>
        {% for key, val in handukten_table.items %}
          {% if forloop.counter0|divisibleby:"5" %}
            <tr>
          {% endif %}
          <td>
            {% if val %}
              <div class="display-kana say-text">
                <button class="play-text">
                  <span lang="jp">{{ key }}</span>
                </button>
              </div>
              <div class="display-romanji">
                <p>{{ val }}</p>
              </div>
            {% else %}
              <div class="space"></div> <!-- Spacer -->
            {% endif %}
          </td>
          {% if forloop.counter|divisibleby:"5" or forloop.last %}
            </tr>
          {% endif %}
        {% endfor %}
      </tbody>
    </table>
  {% endblock handukten %}

  {% block extendedKana %}
    <table>
      <h2>Diacritics (tenten and maru)</h2>
      <tbody>
        {% for key, val in extendedkana_table.items %}
          {% if forloop.counter0|divisibleby:"5" %}
            <tr>
          {% endif %}
          <td>
            {% if val %}
              <div class="display-kana say-text">
                <button class="play-text">
                  <span lang="jp">{{ key }}</span>
                </button>
              </div>
              <div class="display-romanji">
                <p>{{ val }}</p>
              </div>
            {% else %}
              <div class="space"></div> <!-- Spacer -->
            {% endif %}
          </td>
          {% if forloop.counter|divisibleby:"5" or forloop.last %}
            </tr>
          {% endif %}
        {% endfor %}
      </tbody>
    </table>
  {% endblock extendedKana %}

    </div>

{% endblock content %}

<!-- "katakana_table":katakana_table, "title":title, "dicrits_table": dicrits_table, "digraphs_table":digraphs_table, 
               "handukten_table": handukten_table, "extendedkana_table": extendedkana_table-->